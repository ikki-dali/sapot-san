# サポ田さん - 開発タスクドキュメント

サポ田さんの機能実装タスクを段階的に進めるためのドキュメント集です。各タスクには詳細な手順、チェックリスト、コード例が含まれています。

## 📋 推奨実装順序

### Phase 1: データベース統合 ✅ **完了！**

データの永続化を実現し、アプリ再起動でタスクが消えない基盤を構築します。

| # | タスク名 | 難易度 | 推定時間 | ステータス |
|---|---------|--------|---------|-----------|
| 1 | [データベース選定と環境構築](./task-01-database-selection.md) | Simple | 30分 | ✅ 完了 |
| 2 | [タスクテーブルのスキーマ設計](./task-02-schema-design.md) | Medium | 1時間 | ✅ 完了 |
| 3 | [データベース接続モジュールの実装](./task-03-database-connection.md) | Simple | 30分 | ✅ 完了 |
| 4 | [タスクサービス層の実装](./task-04-task-service.md) | Complex | 2時間 | ✅ 完了 |
| 5 | [app.jsのリファクタリング](./task-05-app-refactoring.md) | Medium | 1.5時間 | ✅ 完了 |

**進捗**: 5/5 完了（100%）
**完了日**: 2025-10-28
📄 [Phase 1 完了サマリー](./PHASE1-COMPLETED.md)

---

### Phase 2: 期限管理とリマインド 📅 🚧 実装中

タスクに期限を設定し、自動リマインド機能を実装します。

| # | タスク名 | 難易度 | 推定時間 | ステータス |
|---|---------|--------|---------|-----------|
| 6 | [期限管理機能の設計](./task-06-deadline-management.md) | Medium | 2時間 | 🚧 実装中（Slack設定待ち） |
| 7 | [リマインダーサービスの実装](./task-07-reminder-service.md) | Complex | 2.5時間 | ⏸️ 未着手 |

**進捗**: 1/2 進行中（50%）
**合計推定時間**: 約4.5時間

📝 **Task 6の手動設定が必要**: [Slackショートカット設定ガイド](./SLACK-SHORTCUT-SETUP.md)を参照してください。

---

### Phase 3: AI統合 🤖

OpenAI APIを使ってスレッド要約、優先度判定、タスク整形を実装します。

| # | タスク名 | 難易度 | 推定時間 | 優先度 |
|---|---------|--------|---------|--------|
| 9 | [OpenAI API統合の準備](./task-09-openai-setup.md) | Simple | 30分 | 🟡 推奨 |
| 10 | [AIサービス層の実装](./task-10-ai-service.md) | Complex | 3時間 | 🟡 推奨 |
| 11 | [AI機能のSlack統合](./task-11-ai-slack-integration.md) | Medium | 2時間 | 🟡 推奨 |

**合計推定時間**: 約5.5時間

---

### Phase 4: 未返信メッセージ検知 📬

メンションされたが返信がないメッセージを自動検知してタスク化します。

| # | タスク名 | 難易度 | 推定時間 | 優先度 |
|---|---------|--------|---------|--------|
| 8 | [未返信メッセージ検知機能](./task-08-unreplied-detection.md) | Complex | 3時間 | 🟢 オプション |

**合計推定時間**: 約3時間

---

### Phase 5: 品質改善 🛠️

ログ管理、エラーハンドリング、テストコードで本番運用に備えます。

| # | タスク名 | 難易度 | 推定時間 | 優先度 |
|---|---------|--------|---------|--------|
| 12 | [ログ管理システムの実装](./task-12-logging-system.md) | Simple | 1時間 | 🟡 推奨 |
| 13 | [エラーハンドリングの強化](./task-13-error-handling.md) | Medium | 2時間 | 🟡 推奨 |
| 14 | [テストコードの作成](./task-14-testing.md) | Complex | 4時間 | 🟢 オプション |

**合計推定時間**: 約7時間

---

### Phase 6: 将来機能 🚀

WebポータルとNotion連携で、Slack以外からもタスク管理を可能にします。

| # | タスク名 | 難易度 | 推定時間 | 優先度 |
|---|---------|--------|---------|--------|
| 15 | [Webポータルの基盤構築](./task-15-web-portal.md) | Complex | 8時間以上 | ⚪ 将来 |
| 16 | [Notion連携](./task-16-notion-integration.md) | Complex | 6時間以上 | ⚪ 将来 |

**合計推定時間**: 14時間以上

---

## 🎯 推奨実装プラン

### Week 1: データベース統合（Phase 1）
**目標**: タスクの永続化を実現

- [ ] タスク1: データベース選定と環境構築
- [ ] タスク2: タスクテーブルのスキーマ設計
- [ ] タスク3: データベース接続モジュールの実装
- [ ] タスク4: タスクサービス層の実装
- [ ] タスク5: app.jsのリファクタリング
- [ ] テストと本番デプロイ

### Week 2: 期限管理とリマインド（Phase 2）
**目標**: 期限切れを防ぐリマインダー機能

- [ ] タスク6: 期限管理機能の設計
- [ ] タスク7: リマインダーサービスの実装
- [ ] テスト

### Week 3-4: AI統合（Phase 3）
**目標**: 自動要約と優先度判定

- [ ] タスク9: OpenAI API統合の準備
- [ ] タスク10: AIサービス層の実装
- [ ] タスク11: AI機能のSlack統合
- [ ] テスト

### Week 5: 未返信検知（Phase 4）
**目標**: 返信忘れをゼロに

- [ ] タスク8: 未返信メッセージ検知機能
- [ ] テスト

### Week 6-7: 品質改善（Phase 5）
**目標**: 本番運用に耐える品質

- [ ] タスク12: ログ管理システムの実装
- [ ] タスク13: エラーハンドリングの強化
- [ ] タスク14: テストコードの作成
- [ ] カバレッジ80%達成

### 将来: 拡張機能（Phase 6）
**目標**: ユーザー体験の向上

- [ ] タスク15: Webポータルの基盤構築
- [ ] タスク16: Notion連携

---

## 📊 難易度の目安

- **Simple**: 基本的な実装、ドキュメントに従えば30分〜1時間で完了
- **Medium**: ある程度の設計や調整が必要、1〜2時間
- **Complex**: 複雑なロジックやエラーハンドリング、2時間以上

---

## 🛠️ 各タスクの構成

各タスクドキュメントは以下の構成になっています：

1. **🎯 目標**: このタスクで達成すること
2. **📋 背景**: なぜこのタスクが必要か
3. **✅ 実装手順**: チェックリスト付きのステップバイステップガイド
4. **📤 成果物**: 完了時に得られるもの
5. **🔍 確認方法**: 動作確認の手順
6. **⚠️ 注意点**: ハマりやすいポイントと対処法
7. **🚀 次のステップ**: 次に実装すべきタスクへのリンク

---

## 📝 使い方

1. **Phase 1から順番に進める**（推奨）
   - データベース統合を最優先で実装
   - その後、必要な機能を追加していく

2. **優先度を見て選択的に実装**
   - 🔴 必須: Phase 1は必ず実装
   - 🟡 推奨: Phase 2, 3, 5は本番運用に推奨
   - 🟢 オプション: Phase 4は必要に応じて
   - ⚪ 将来: Phase 6は余裕があれば

3. **各タスクのチェックリストを活用**
   - ステップごとにチェックを入れて進捗管理
   - 完了した項目を記録

---

## 💡 Tips

### 並行実装可能なタスク
以下のタスクは依存関係がないため、並行して実装できます：

- タスク9（OpenAI API統合）は Phase 1 と並行可能
- タスク12（ログ管理）はいつでも実装可能
- タスク14（テスト）は各フェーズで段階的に実装可能

### 開発環境の推奨設定
- **Node.js**: v18以上
- **エディタ**: VSCode推奨（ESLint、Prettier設定）
- **データベース**: Supabase（無料枠で開始可能）
- **AI**: OpenAI API（gpt-4o-mini推奨、月額$1〜5程度）

### トラブルシューティング
各タスクドキュメントの「⚠️ 注意点」セクションに、よくあるエラーと解決方法を記載しています。

---

## 📞 サポート

実装中に困ったことがあれば、Claude Codeで相談してください！

---

## 🎉 完成後の機能

全てのタスクを完了すると、以下の機能が使えるようになります：

✅ リアクション（✅/📝）でタスク作成
✅ `/task-list` でタスク一覧表示
✅ `/task-done [ID]` でタスク完了
✅ データベース永続化（再起動してもタスクが残る）
✅ 期限設定とリマインダー通知
✅ AI自動要約・優先度判定
✅ 未返信メッセージの自動タスク化
✅ Webポータルでのタスク管理
✅ Notion連携

**頑張ってください！🚀**
